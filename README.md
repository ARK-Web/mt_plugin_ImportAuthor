# mt_plugin_ImportAuthor
ユーザーを一括登録してロール割当をするプラグイン
====

ARK-Web/mt_plugin_ImportAuthor - ユーザーを一括登録してロール割当をするプラグインです。

### 概要

ユーザをCSV一括登録し、ブログに対するロール割当てもこのCSV一括登録でできるようにします。


### 動作条件

* MTクラウド対応

※MT6系で動くかどうかは検証中です。今後対応するかもしれません。


### ダウンロード

* [https://github.com/ARK-Web/mt_plugin_ImportAuthor](https://github.com/ARK-Web/mt_plugin_ImportAuthor)
* ライセンス: 後ほど (TBD)


### インストール

zipを解凍して [ImportAuthor] フォルダーごと、MT設置ディレクトリー /plugins にアップロードします。


### 使い方

MT管理画面の「システム＞ユーザー」メニューに「ユーザーインポート」が増えているのでここからCSVをアップします。


#### CSV形式

* 文字コードSJIS
* 1行目はタイトル行（読み飛ばされる）
* 実データは2行目以降
* CSV項目は以下の通り

| 列    | 項目            | 必須 | 備考 |
|:------|:----------------|:-----|:------------|
| 1     | ユーザーID      |      |    |
| 2     | ユーザー名      | 必須 | ログイン時のIDになる。他のユーザーと重複不可。 |
| 3     | パスワード      | 必須 |    |
| 4     | 表示名          | 必須 |    |
| 5     | 電子メール      | 必須 |    |
| 6     | ウェブサイトURL |      |    |
| 7     | ロール          |      | 詳細は別記  |

* ユーザーIDが指定されている場合、ユーザーIDが一致するユーザーデータを上書き or 新規
* ユーザーIDが指定されていない場合、ユーザー名が一致するユーザーデータを上書き or 新規
* ユーザーIDが指定されていて、ユーザー名が他のユーザーと重複している場合はエラーとなる


#### ロールの形式

`{ブログID}_{ロールID}&{ブログID}_{ロールID}&{ブログID}_{ロールID}&・・・`

* ブログIDとロールIDを「_」で繋げてワンセット
* 「&」で繋げて複数ロール設定可能

	例）
	2_7&3_5

* ブログID=2に対してロールID=7のロールを与える
* ブログID=3に対してロールID=5のロールを与える
* これ以外に設定されていたロールは削除される

